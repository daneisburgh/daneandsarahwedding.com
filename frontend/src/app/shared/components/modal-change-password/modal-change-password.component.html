<ion-header>
    <ion-toolbar color="primary">
        <ion-title class="content-inner">{{title}}</ion-title>
        <ion-buttons slot="end" class=:close>
            <ion-button (click)="dismiss()">
                <ion-icon name="close"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <div class="center-content-horizontal">
        <div class="content-inner modal-inner" (keydown)="keyDown($event)">
            <ion-grid>
                <ion-row *ngIf="!code" class="email">
                    <ion-col size="12" class="center-content-horizontal">
                        <ion-item>
                            <ion-label position="floating">Email</ion-label>
                            <ion-input type="text" [(ngModel)]="email" [disabled]="isSubmitting"></ion-input>
                        </ion-item>
                    </ion-col>
                    <ion-col class="add-email-message">
                        Input email to receive password change link
                    </ion-col>
                </ion-row>
                <ion-row *ngIf="code" class="password">
                    <ion-col size="12" class="center-content-horizontal">
                        <ion-item>
                            <ion-label position="floating">New Password</ion-label>
                            <ion-input type="password" [(ngModel)]="newPassword" [disabled]="isSubmitting">
                            </ion-input>
                        </ion-item>
                    </ion-col>
                    <ion-col size="12" class="center-content-horizontal">
                        <ion-item>
                            <ion-label position="floating">Confirm Password</ion-label>
                            <ion-input type="password" [(ngModel)]="confirmPassword" [disabled]="isSubmitting">
                            </ion-input>
                        </ion-item>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col class="center-content-vertical">
                        <ion-button class="submit" (click)="submit()" [disabled]="isSubmitting">
                            Submit
                        </ion-button>
                        <ion-text *ngIf="isSubmitting" class="submit-message">
                            <ion-spinner></ion-spinner>
                        </ion-text>
                        <ion-text *ngIf="!isSubmitting && errorMessage" class="submit-message" color="danger">
                            {{errorMessage}}
                        </ion-text>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </div>
    </div>
</ion-content>